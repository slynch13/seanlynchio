---
id: 41
title: Anonymous Types and Interfaces
date: 2007-12-12T00:08:17+00:00
author: Sean
layout: post
guid: http://seanlynch.io/archive/2007/12/12/anonymous-types-and-interfaces.aspx
permalink: /anonymous-types-and-interfaces/
categories:
  - .Net
published: false
---
I finally had a chance to sit and work with LINQ for a bit, and while it is very cool, a little bit of its luster was lost when I can assign interfaces to the anonymous classes generated by the queries. Meaning I can not do something like:

<pre class="code"><font size="2"><span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">interface</span> </font><font size="2"><span style="COLOR: rgb(43,145,175)">IExample
</span>{
    <span style="COLOR: rgb(0,0,255)">string</span> Name { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }
    <span style="COLOR: rgb(0,0,255)">string</span> Description { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }
}
<span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">class</span> </font><font size="2"><span style="COLOR: rgb(43,145,175)">DataGenerator
</span>{
    <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(43,145,175)">IEnumerable</span>&lt;<span style="COLOR: rgb(43,145,175)">IExample</span>&gt; GetExamples(<span style="COLOR: rgb(0,0,255)">string</span> categoryName)
    {<br />        </font><font size="2"><span style="COLOR: rgb(0,128,0)">//Context Definition<br /></span>        <span style="COLOR: rgb(43,145,175)">IEnumerable</span>&lt;<span style="COLOR: rgb(43,145,175)">IExample</span>&gt; examples =
            <span style="COLOR: rgb(0,0,255)">from</span> x <span style="COLOR: rgb(0,0,255)">in</span> db.Examples </font><font size="2"><span style="COLOR: rgb(0,128,0)">//LINQ to SQL Class<br /></span>            <span style="COLOR: rgb(0,0,255)">where</span> x.Category.Name = categoryName
            <span style="COLOR: rgb(0,0,255)">select</span> <span style="COLOR: rgb(0,0,255)">new</span> IExamples { Name = x.Name<br />                                 , Description = x.Description } ;
<span style="COLOR: rgb(0,128,0)">            // There is probobly better syntax for this</span>
        <span style="COLOR: rgb(0,0,255)">return</span> examples;
    }
}</font></pre>

Now I know I could instead do

<font size="2"><span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">class</span> </font><font size="2"><span style="COLOR: rgb(43,145,175)">Example<br /> </span>{<br />     <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">string</span> Name { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }<br />     <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">string</span> Description { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }<br /> }<br /> <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">class</span> </font><font size="2"><span style="COLOR: rgb(43,145,175)">DataGenerator<br /> </span>{<br />     <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(43,145,175)">IEnumerable</span><<span style="COLOR: rgb(43,145,175)">Example</span>> GetExamples(<span style="COLOR: rgb(0,0,255)">string</span> categoryName)<br />     {<br />         </font><font size="2"><span style="COLOR: rgb(0,128,0)">//Context Definition<br /> </span>        <span style="COLOR: rgb(43,145,175)">IEnumerable</span><<span style="COLOR: rgb(43,145,175)">Example</span>> examples =<br />             <span style="COLOR: rgb(0,0,255)">from</span> x <span style="COLOR: rgb(0,0,255)">in</span> db.Examples </font><font size="2"><span style="COLOR: rgb(0,128,0)">//LINQ to SQL Class, <br /> </span>            <span style="COLOR: rgb(0,0,255)">where</span> x.Category.Name = categoryName<br />             <span style="COLOR: rgb(0,0,255)">select</span> <span style="COLOR: rgb(0,0,255)">new</span> <span style="COLOR: rgb(43,145,175)">Example</span>{ Name = x.Name, Description = x.Description };</p> 

<p>
          <span style="COLOR: rgb(0,0,255)">return</span> examples;<br />     }<br /> }<br /> </font>
</p>

<p>
  or if I wanted to continue only exposing an interface
</p>

<p>
   
</p>

<pre class="code"><font size="2"><span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">interface</span> </font><font size="2"><span style="COLOR: rgb(43,145,175)">IExample
</span>{
    <span style="COLOR: rgb(0,0,255)">string</span> Name { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }
    <span style="COLOR: rgb(0,0,255)">string</span> Description { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }
}
<span style="COLOR: rgb(0,0,255)">internal </span><span style="COLOR: rgb(0,0,255)">class</span> <span style="COLOR: rgb(43,145,175)">Example</span>:</font><font size="2"><span style="COLOR: rgb(43,145,175)">IExample
</span>{
    <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">string</span> Name { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }
    <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">string</span> Description { <span style="COLOR: rgb(0,0,255)">get</span>; <span style="COLOR: rgb(0,0,255)">set</span>; }
}
<span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(0,0,255)">class</span> </font><font size="2"><span style="COLOR: rgb(43,145,175)">DataGenerator
</span>{
    <span style="COLOR: rgb(0,0,255)">public</span> <span style="COLOR: rgb(43,145,175)">IEnumerable</span>&lt;<span style="COLOR: rgb(43,145,175)">IExample</span>&gt; GetExamples(<span style="COLOR: rgb(0,0,255)">string</span> categoryName)
    {
        </font><font size="2"><span style="COLOR: rgb(0,128,0)">//LINQ to SQL Context Definition
</span>        <span style="COLOR: rgb(43,145,175)">var</span> examples =
            <span style="COLOR: rgb(0,0,255)">from</span> x <span style="COLOR: rgb(0,0,255)">in</span> db.Examples <br /></font><font size="2">            <span style="COLOR: rgb(0,0,255)">where</span> x.Category.Name = categoryName
            <span style="COLOR: rgb(0,0,255)">select</span> <span style="COLOR: rgb(0,0,255)">new</span> <span style="COLOR: rgb(43,145,175)">Example</span>{ Name = x.Name<br />                              , Description = x.Description };

        <span style="COLOR: rgb(0,0,255)">return</span> examples.OfType&lt;<span style="COLOR: rgb(43,145,175)">IExample</span>&gt;();
    }
}</font></pre>

<p>
  Over all this isn&#8217;t a big issue since the second method works just fine for what I am trying to accomplish for the most part. But it feels kind of off having to make a throwaway class to accomplish this.
</p>